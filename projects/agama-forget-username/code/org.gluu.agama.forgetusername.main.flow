Flow org.gluu.agama.forgetusername.main
     Basepath ""
// Create  variable for UCreate  variable for UI feedbackI feedback
uiFeedback = {}
// forgetusernameService
forgetusernameService = Call org.gluu.agama.usernameclass.UsernameResendclass#getInstance 
// userInput
userInput = RRF "InputEmail.ftlh" uiFeedback
email = userInput.mail
Log "@info User mail ++++++++++++++++++++++" email
userData = Call forgetusernameService getUserEntityByMail email
// "users details+++++++"
Log "@info users details+++++++" userData
When userData is not null
     username = userData.uid
     lang = userData.lang
     Log "@info users details++++++++++++" username lang
     sendMailed = Call forgetusernameService sendUsernameEmail email username lang
     Log "@info Email send to user++++"
     RRF "acknowledgementEmail.ftlh" uiFeedback
     Finish username
Otherwise
     // Displays error message when user enters invalid email, then ends the flow.
     RRF "InputEmail.ftlh" uiFeedback
     // End flow after invalid email attempt.
     it_idzxo = {success:false, error: "InvalidEmail"}
     Finish it_idzxo